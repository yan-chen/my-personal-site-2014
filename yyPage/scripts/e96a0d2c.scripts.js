"use strict";angular.module("myPageApp",["ngCookies","ngResource","ngSanitize","ui.router","ui.bootstrap","LocalStorageModule","ngAnimate","d3","importio"]).config(["$stateProvider","$urlRouterProvider","$sceDelegateProvider",function(a,b,c){c.resourceUrlWhitelist(["self","http://www.youtube.com/**"]),b.when("","about-me"),b.when("/portfolio","/portfolio/modal-view"),b.otherwise("/404"),a.state("mainNav",{url:"/:navId",templateUrl:function(a){return"views/"+a.navId+"/"+a.navId+".html"}}).state("mainNav.subNav",{url:"/:subNavId",templateUrl:function(a){return"views/"+a.navId+"/"+a.navId+"."+a.subNavId+".html"}}).state("mainNav.subNav.child",{url:"/:childId",templateUrl:function(a){return"views/"+a.navId+"/"+a.navId+".container-"+a.childId+".html"}}).state("404",{url:"/404",template:"<h3>Sorry, Page Not Found!</h3>"})}]).run(["$rootScope","$location",function(a,b){a.$on("$stateChangeSuccess",function(){a.currentTab=b.path().split("/")[1]}),a.isTouchDevice=!!("ontouchstart"in window),importio.init({auth:{userGuid:"5abf7ccf-6587-4290-95b9-c8145c6464f6",apiKey:"nJfLaOMWny+snD+8CnozqN6JLPHmRmrd9Qbd64f4y2/2haUG+2HRmxK/Pt1SY5ftfMirY+L/22rvx3Rret6lRw=="},host:"import.io"})}]),angular.module("myPageApp").filter("slice",function(){return function(a,b,c){return(a||[]).slice(b,c)}}).filter("compareFilter",[function(){return function(a,b,c,d){return a===b?c:d}}]),Array.prototype.remove=function(a){return-1!==this.indexOf(a)?(this.splice(this.indexOf(a),1),!0):!1},angular.module("myPageApp").controller("MainCtrl",["$scope","$location","localStorageService","$rootScope",function(a,b,c,d){a.locale="en",a.changeLang=function(b){a.locale=b},a.saveToLocal=function(a,b){c.set("yyPage-"+d.currentTab+"-"+a,b),console.log("saved to: yyPage-"+d.currentTab+"-"+a)},a.isAsideVisible=!1,a.toggleAsideNav=function(){a.isAsideVisible=!a.isAsideVisible},a.returnViewPortSize=function(){var a;return a=window.innerWidth<342?"xs":window.innerWidth<767?"sm":window.innerWidth<968?"md":"lg"},a.isViewPortSizeSm=function(){return window.innerWidth<767?!0:void 0},$(window).resize(function(){a.isViewPortSizeSm()||a.$apply(a.isAsideVisible=!1)})}]),angular.module("myPageApp").controller("AboutMeCtrl",["$scope",function(a){a.workHistoryEN=[{title:"Front End Web Developer",company:"USANA Health Sciences",companyUrl:"http://www.usana.com/",companyLogo:"images/logo_usana.png",location:"Salt Lake City, UT",startYear:"2014",endYear:"Present",description:"Use HTML, CSS, AngularJS to prototype & develop web application/user interface;"},{title:"Front End Web Developer",company:"Cognizant Technology Solutions",companyUrl:"http://www.cognizant.com/",companyLogo:"images/logo_cognizant.svg",location:"Draper, UT",startYear:"2013",endYear:"2014",description:"<ul><li>Assisted with UI development for an internal agent application using HTML, CSS, AngularJS, Bootstrap, Git and other related technology stacks;</li><li>Used Chrome DevTools to test performance of UI component created, and to debug errors;</li><li>Created UX design mockups using MockFlow based on business product requirements;</li><li> Assist with UI requirement analysis by communicating with client.</li></ul>"},{title:"Engineering Intern",company:"eBay Inc.",companyUrl:"http://www.ebayinc.com/",companyLogo:"images/logo_ebay.jpg",location:"Draper, UT",startYear:"2013",endYear:"2013",description:"<ul><li>Assisted with UI development for an internal agent application using HTML, CSS, AngularJS, Bootstrap, Git and other related technology stacks;</li><li>Used Chrome DevTools to test performance of UI component created, and to debug errors;</li></ul>"},{title:"Assistant Database Administrator",company:"SWCA Environmental Consultant",companyUrl:"http://www.swca.com/",companyLogo:"images/logo_swca.jpg",location:"Salt Lake City, UT",startYear:"2011",endYear:"2013",description:"<ul><li>Provide maintenance and user support on existing databases of cultural resource information;</li><li> Assisted the Database Administrator with designing and implementing new databases using PG Admin and Microsoft Access;</li><li> Develop stand-alone MS Access databases for generating analysis reports.</li></ul>"},{title:"Office Assistant",company:"University of Utah, Career Services",companyUrl:"http://www.utah.edu/",companyLogo:"images/logo_career_services.png",location:"Salt Lake City, UT",startYear:"2010",endYear:"2013",description:"<ul><li>Created reports, entered data and helped with website content;</li><li>Answered incoming phone calls, greeted and assisted students and employers.</li></ul>"},{title:"Technical QA Specialist for Curriculum",company:"The American Academy",companyUrl:"http://www.theamericanacademy.com/",companyLogo:"images/logo_taa.png",location:"Salt Lake City, UT",startYear:"2013",endYear:"2013",description:"<ul><li>Helped with converting 200 online courses into new HTML templates;</li><li>Checked and tested the courses to make sure its functionality and quality are meeting the requirements.</li></ul>"},{title:"Customer Service Representative",company:"Multiple",companyUrl:"",companyLogo:"images/logo_csr.png",location:"Salt Lake City, UT",startYear:"2009",endYear:"2010",description:"<ul><li>Worked for 2010 Census as bilingual CSR for English & Chinese (2010)</li><li>Worked for Bank of American as bilingual CSR for credit card accounts (2009)</li></ul>"}],a.workHistoryCH=[{title:"前端网页开发人员",company:"USANA Health Sciences <br/>优莎娜",companyUrl:"http://www.usana.com/",companyLogo:"images/logo_usana.png",location:"犹他州，盐湖城",startYear:"2014",endYear:"现在",description:"Use HTML, CSS, AngularJS to prototype & develop web application/user interface;"},{title:"前端网页开发人员",company:"Cognizant Technology Solutions<br/>高知特信息技术公司",companyUrl:"http://www.cognizant.com/",companyLogo:"images/logo_cognizant.svg",location:"犹他州， Draper市",startYear:"2013",endYear:"2014",description:"<ul><li>Assisted with UI development for an internal agent application using HTML, CSS, AngularJS, Bootstrap, Git and other related technology stacks;</li><li>Used Chrome DevTools to test performance of UI component created, and to debug errors;</li><li>Created UX design mockups using MockFlow based on business product requirements;</li><li> Assist with UI requirement analysis by communicating with client.</li></ul>"},{title:"软件工程实习生",company:"eBay Inc.<br/>易趣",companyUrl:"http://www.ebayinc.com/",companyLogo:"images/logo_ebay.jpg",location:"犹他州， Draper市",startYear:"2013",endYear:"2013",description:"<ul><li>Assisted with UI development for an internal agent application using HTML, CSS, AngularJS, Bootstrap, Git and other related technology stacks;</li><li>Used Chrome DevTools to test performance of UI component created, and to debug errors;</li></ul>"},{title:"数据库管理助手",company:"SWCA Environmental Consultant<br/> SWCA 环境咨询",companyUrl:"http://www.swca.com/",companyLogo:"images/logo_swca.jpg",location:"犹他州，盐湖城",startYear:"2011",endYear:"2013",description:"<ul><li>Provide maintenance and user support on existing databases of cultural resource information;</li><li> Assisted the Database Administrator with designing and implementing new databases using PG Admin and Microsoft Access;</li><li> Develop stand-alone MS Access databases for generating analysis reports.</li></ul>"},{title:"办公室助理",company:"University of Utah, Career Services<br/>犹他大学学生就业咨询处",companyUrl:"http://www.utah.edu/",companyLogo:"images/logo_career_services.png",location:"犹他州，盐湖城",startYear:"2010",endYear:"2013",description:"<ul><li>Created reports, entered data and helped with website content;</li><li>Answered incoming phone calls, greeted and assisted students and employers.</li></ul>"},{title:"在线课程的技术质量保证人员",company:"The American Academy",companyUrl:"http://www.theamericanacademy.com/",companyLogo:"images/logo_taa.png",location:"犹他州，盐湖城",startYear:"2013",endYear:"2013",description:"<ul><li>Helped with converting 200 online courses into new HTML templates;</li><li>Checked and tested the courses to make sure its functionality and quality are meeting the requirements.</li></ul>"},{title:"客服人员",company:"Multiple",companyUrl:"",companyLogo:"images/logo_csr.png",location:"犹他州，盐湖城",startYear:"2009",endYear:"2010",description:"<ul><li>Worked for 2010 Census as bilingual CSR for English & Chinese (2010)</li><li>Worked for Bank of American as bilingual CSR for credit card accounts (2009)</li></ul>"}]}]),angular.module("myPageApp").controller("PersonalCtrl",["$scope","$modal","$http",function(a,b,c){a.getImageList=function(){var b,d="https://api.import.io/store/data/c65485d1-5d8c-4b0f-945a-50ad1f76841c/_query?input/webpage/url=https%3A%2F%2Fwww.dropbox.com%2Fsh%2Fyspbahxrz1mvotz%2FAADjR0jMEaFXSdqsRAX4eO34a%3Fdl%3D0&_user=5abf7ccf-6587-4290-95b9-c8145c6464f6&_apikey=5abf7ccf-6587-4290-95b9-c8145c6464f6";return a.imageList=c.get(d).success(function(a){a=a}).error(function(){b=b}),console.log(b),b},a.imageList=a.getImageList(),a.setCurrentImage=function(b){a.currentImage=b},a.openImgUploadModal=function(c){b.open({templateUrl:"views/templates/img-upload-modal.tpl.html",controller:d,size:c,resolve:{imageList:function(){return a.imageList}}})};var d=function(a,b){a.save=function(){b.close()},a.cancel=function(){b.dismiss("cancel")}}}]),angular.module("myPageApp").controller("NavCtrl",["$scope",function(){}]),angular.module("myPageApp").controller("PortfolioCtrl",["$scope",function(a){a.wireframeFiles=[{fileName:"yyPage Version #1",fileType:"pdf",filePath:"data/yy_page_v1.pdf",fileThumbPath:"data/yy_page_v1_thumb.png"},{fileName:"yyPage Version #2",fileType:"pdf",filePath:"data/yy_page_v2.pdf",fileThumbPath:"data/yy_page_v2_thumb.png"},{fileName:"Community Blog",fileType:"pdf",filePath:"data/yy_community_blog.pdf",fileThumbPath:"data/yy_community_blog_thumb.png"},{fileName:"Widget Bank Design",fileType:"video",filePath:"http://www.youtube.com/v/IAKFhjwcE_Q?rel=0",fileThumbPath:"data/usana_widgetbank_thumb.png"}],a.setCurrentFile=function(b){a.currentFile=b},a.webComponentDemos=[{demoName:"AngularJS To Do List",demoPath:"views/portfolio/portfolio.todo.tpl.html",demoThumbPath:"data/yy_portfolio_todo_thumb.png"},{demoName:"Sample Widgets",demoPath:"views/portfolio/portfolio.widget.tpl.html",demoThumbPath:"data/yy_portfolio_widget_thumb.png"},{demoName:"D3 Chart (coming ...)",demoPath:"views/portfolio/portfolio.d3.tpl.html",demoThumbPath:""},{demoName:"Others (coming ...)",demoPath:"",demoThumbPath:""}],a.setCurrentDemo=function(b){a.currentDemo=b}}]),angular.module("myPageApp").controller("PortfolioTodoCtrl",["$scope","localStorageService",function(a,b){a.toDoTabs=[{title:"Current List",content:"todoCurrentList.tpl.html"},{title:"Archived List",content:"todoArchivedList.tpl.html"}];var c=function(){var a,c;return null!==b.get("yyPage-portfolio-todo-list")?(a=b.get("yyPage-portfolio-todo-list"),c=function(){var b=[];return angular.forEach(a,function(a){a.isDone&&b.unshift(a)}),b}):(a=[{description:"Need to call ...",isDone:!1},{description:"Need to buy ...",isDone:!1}],c=[]),[a,c]};a.toDoList=c()[0],a.tempArchiveList=c()[1],a.archivedList=null!==b.get("yyPage-portfolio-archived-list")?b.get("yyPage-portfolio-archived-list"):[],a.todo={},a.addToList=function(b){a.toDoList.unshift({description:b.description,isDone:!1}),a.todo={}},a.addToTempArchiveList=function(b){-1===a.tempArchiveList.indexOf(b)?a.tempArchiveList.unshift(b):a.tempArchiveList.remove(b)},a.selectAll=function(){a.tempArchiveList=angular.copy(a.toDoList)},a.unselectAll=function(){a.tempArchiveList=[]},a.archiveTodo=function(){var b=[];angular.forEach(a.toDoList,function(c){c.isDone?a.archivedList.unshift(c):b.unshift(c)}),a.toDoList=b},a.saveToDoLocally=function(){b.set("yyPage-portfolio-todo-list",a.toDoList),b.set("yyPage-portfolio-archived-list",a.archivedList)},a.clearLocalToDo=function(){b.remove("yyPage-portfolio-todo-list"),b.remove("yyPage-portfolio-archived-list"),a.toDoList=[{description:"Need to call ...",isDone:!1},{description:"Need to buy ...",isDone:!1}],a.tempArchiveList=[],a.archivedList=[]},a.removeFromList=function(a,b){a.splice(b,1)}}]),angular.module("myPageApp").controller("PortfolioCalendarWidgetCtrl",["$scope",function(a){a.currentWidgetTheme="000000",a.setColorTheme=function(b){var c={primary:"78bde7",success:"5cb85c",info:"5BC0E0",warning:"f0ad4e",danger:"d9534f",dark:"000000"};a.currentWidgetTheme=c[b]},a.hexToRgba=function(a,b){return"rgba("+parseInt(a.substr(0,2),16)+","+parseInt(a.substr(2,2),16)+","+parseInt(a.substr(4,2),16)+","+b+")"},a.ppTestData={daysCount:"25",associateCount:"3",cvpCount:"80"},a.validateDateCount=function(b){a.ppTestData.daysCount=(b.toString().length<2?"0"+b:b).toString()},a.today=new Date,a.greeting=function(a){var b;return b=a.getHours()>=12?"Afternoon":a.getHours()>=18?"Evening":"Morning"}}]),angular.module("myPageApp").controller("PortfolioD3Ctrl",["$scope","$http","$templateCache",function(a,b,c){a.dataSource=[{label:"Sample Dataset #1",url:"data/yy_portfolio_d3_data_1.json"},{label:"Sample Dataset #2",url:"data/yy_portfolio_d3_data_2.json"}],a.initialDataSource=a.dataSource[0],a.activeSeletedIndex=0,a.fetchData=function(d){b.get(d,{cache:c}).success(function(b){a.d3BarChartDataSet=b[0],a.d3ColumnChartDataSet=b[1],a.d3LineChartDataSet=b[1]}).error(function(a){console.log(a||"Request failed")})},a.setActiveSelectedIndex=function(b){a.activeSeletedIndex=b},a.fetchData(a.initialDataSource.url),a.returnSelectedItem=function(b){a.$apply(function(){a.currentSelectedItem=b})}}]),angular.module("myPageApp").controller("loginCtrl",["$scope","$modal",function(a,b){var c=["$scope","$modalInstance","$rootScope","localStorageService",function(a,b,c,d){a.credentials={adminId:"",password:"",rememberMe:""},d.get("previousLoggedInUser")&&(a.credentials.adminId=d.get("previousLoggedInUser")),a.adminLogin=function(e){a.isLoginFailed=!1,"yyadmin"===e.adminId&&"admin"===e.password?(c.isAdmin=!0,c.adminId=e.adminId,a.$broadcast("admin logged in"),console.log("you are logged in as "+e.adminId),b.close(a.credentialsVerified,a.userName),e.rememberMe&&d.set("previousLoggedInUser",e.adminId)):(a.isLoginFailed=!0,d.set("previousLoggedInUser",null))},a.cancel=function(){b.dismiss("cancel")}}];a.openLoginModal=function(a){var d=b.open({templateUrl:"views/login.html",controller:c,size:a,resolve:{}});d.result.then(function(){},function(){})}}]),angular.module("myPageApp").directive("yyMasonryDir",["$timeout",function(a){return{restrict:"EA",transclude:!0,replace:!0,template:"<div data-ng-transclude></div>",link:function(b,c){a(function(){c.masonry({itemSelector:".masonry-item"})},500),c.on("$destroy",function(){c.masonry("destroy")})}}}]),angular.module("myPageApp").directive("yyQtip",["$compile","$templateCache","$http","$timeout","$window",function(a,b,c,d,e){return function(f,g,h){switch(f.qtipSkin=h.skin?"qtip-"+h.skin:"qtip-light",f.closeButton=null!==h.closeButton,f.customShow=h.qtipShow,f.hideSpinner=null!==h.qtipHideSpinner,h.position){case"right":f.qtipPointerPos="left center",f.qtipContentPos="right center",f.qtipTipClass="qtip-tip-right";break;case"bottom":f.qtipPointerPos="top left",f.qtipContentPos="bottom right",f.qtipTipClass="qtip-tip-bottom";break;case"left":f.qtipPointerPos="right center",f.qtipContentPos="left center",f.qtipTipClass="qtip-tip-left";break;default:f.qtipPointerPos="bottom left",f.qtipContentPos="top right",f.qtipTipClass="qtip-tip-top"}var i={content:{text:function(e,i){if(null!==h.href){if(!h.qtipHideSpinner){var j=a('<div><img style="display:block;margin:auto;width:70px;height:70px;" src="images/spinner_white_large.gif"/></div>')(f);i.set("content.text",j)}return function(){c.get(h.href,{cache:b}).success(function(b){var c=a(b)(f);null!==h.qtipWait?f.$root.$on("qtipContentReady",function(){i.set("content.text",c),d(function(){i.reposition(),f.$watch(function(){return $(i.elements.content).find("div").css("height")},function(a,b){a!==b&&i.reposition()})})}):(i.set("content.text",c),d(function(){i.reposition(),f.$watch(function(){return $(i.elements.content).find("div").css("height")},function(a,b){a!==b&&i.reposition()})}))}).error(function(a){var b=a||"Request failed";i.set("content.text",b)})}}return null!==g.attr("data-qtip-content")?h.qtipContent:void i.set("content.text","")},title:function(a,b){return null!==g.attr("data-qtip-title")?h.qtipTitle:void b.set("content.title","")},button:f.closeButton},style:{classes:f.qtipSkin+" "+f.qtipTipClass+" "+h.qtipClass,tip:{corner:!0,width:20,height:10,method:"polygon",border:2}},show:{event:null!==f.customShow?f.customShow:f.closeButton?"click mouseover":"click mouseover",solo:null!==h.solo,autofocus:"input"},hide:{event:null!==h.fixed?"unfocus":f.closeButton===!0?"click":"mouseleave",delay:300,fixed:$(this).mouseover?!0:!1,leave:!1},events:{render:function(a,b){f.hideQtip=function(){b.hide()},f.reposition=function(){b.reposition()},$(b.elements.content).keyup(function(a){27===a.keyCode&&b.hide()})}},position:{viewport:e,target:h.target?h.target:g,adjust:{method:"flip flip",mouse:null===h.static},my:f.qtipPointerPos,at:f.qtipContentPos}};g.qtip(i),f.$on("$destroy",function(){$(".qtip").remove(),g.qtip("destroy",!0)})}}]),angular.module("myPageApp").directive("yyVideoDir",[function(){return{restrict:"EA",scope:{videoSrc:"="},replace:!0,template:'  <div class="yy-responsive-wrapper"><object type="application/x-shockwave-flash" data="{{videoSrc}}"><param name="movie" value="{{videoSrc}}"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed ng-src="{{videoSrc}}" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true"></embed></object></div>',link:function(){}}}]),angular.module("myPageApp").directive("yyD3BarChart",["$window","$timeout","d3Service",function(a,b,c){return{restrict:"A",scope:{data:"=",label:"@",yyOnClick:"&"},link:function(d,e,f){c.d3().then(function(c){var g,h=parseInt(f.margin)||20,i=parseInt(f.barHeight)||20,j=parseInt(f.barPadding)||5,k=c.select(e[0]).append("svg").style("width","100%");d.render=function(a){k.selectAll("*").remove(),a&&(g=b(function(){var b=c.select(e[0])[0][0].offsetWidth-h,f=a.length*(i+j)+20,g=c.scale.category20(),l=c.scale.linear().domain([0,c.max(a,function(a){return a.score})]).range([0,b]);k.attr("height",f),k.selectAll("rect").data(a).enter().append("rect").on("click",function(a){return d.yyOnClick({item:a})}).attr("height",i).attr("width",140).attr("x",Math.round(h/2)+50).attr("y",function(a,b){return b*(i+j)}).attr("fill",function(a){return g(a.score)}).transition().duration(1e3).attr("width",function(a){return l(a.score)}),k.selectAll("text").data(a).enter().append("text").attr("class","y label").attr("fill","#000").attr("dy",".25em").attr("text-anchor","end").attr("y",function(a,b){return b*(i+j)+10}).attr("x",50).text(function(a){return a.name})},200))},a.onresize=function(){d.$apply()},d.$watch(function(){return angular.element(a)[0].innerWidth},function(){d.render(d.data)}),d.$watch("data",function(a){d.render(a)},!0),d.render(d.data)})}}}]),angular.module("d3",[]).factory("d3Service",["$document","$q","$rootScope",function(a,b,c){function d(){c.$apply(function(){e.resolve(window.d3)})}var e=b.defer(),f=a[0].createElement("script");f.type="text/javascript",f.asyc=!0,f.src="bower_components/d3/d3.js",f.onreadystatechange=function(){"complete"===this.readyState&&d()},f.onload=d;var g=a[0].getElementsByTagName("body")[0];return g.appendChild(f),{d3:function(){return e.promise}}}]),angular.module("myPageApp").directive("yyD3ColumnChart",["$window","$timeout","d3Service",function(a,b,c){return{restrict:"A",scope:{data:"=",label:"@",yyOnClick:"&"},link:function(d,e){c.d3().then(function(c){var f=c.select(e[0]).append("svg").style("width",500);d.render=function(){b(function(){var a=500,b=150,e={top:15,right:15,bottom:20,left:50},g=c.scale.linear().range([e.left,a-e.right]).domain([c.min(d.data,function(a){return a.x}),c.max(d.data,function(a){return a.x})]),h=c.scale.linear().range([b-e.top,e.bottom]).domain([c.min(d.data,function(a){return a.y}),c.max(d.data,function(a){return a.y})]),i=c.svg.axis().scale(g).tickSize(10).tickSubdivide(!0),j=c.svg.axis().scale(h).tickSize(10).orient("left").tickSubdivide(!0);f.append("svg:g").attr("class","x axis").attr("transform","translate(0,"+(b-e.bottom)+")").call(i),f.append("svg:g").attr("class","y axis").attr("transform","translate("+e.left+",0)").call(j);var k=c.svg.line().x(function(a){return g(a.x)}).y(function(a){return h(a.y)}).interpolate("linear");f.append("svg:path").attr("d",k(d.data)).attr("stroke","blue").attr("stroke-width",2).attr("fill","none")})},a.onresize=function(){d.$apply()},d.$watch(function(){return angular.element(a)[0].innerWidth},function(){d.render(d.data)}),d.$watch("data",function(a){d.render(a)},!0)})}}}]);